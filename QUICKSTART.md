# å¿«é€Ÿå¯åŠ¨æŒ‡å—

> æœ¬æ–‡æ¡£å¸®åŠ©æ–°å·¥ç¨‹å¸ˆåœ¨ 5 åˆ†é’Ÿå†…å¯åŠ¨é¡¹ç›®å¹¶å¼€å§‹å¼€å‘

## âš¡ å¿«é€Ÿå¯åŠ¨ï¼ˆ5 åˆ†é’Ÿï¼‰

### æ­¥éª¤ 1: å®‰è£…ä¾èµ–ï¼ˆ1 åˆ†é’Ÿï¼‰
```bash
npm install
```

### æ­¥éª¤ 2: é…ç½®ç¯å¢ƒå˜é‡ï¼ˆ2 åˆ†é’Ÿï¼‰
1. è·å– Supabase é¡¹ç›®å‡­è¯ï¼ˆè”ç³»å‰ä»»å¼€å‘è€…ï¼‰
2. åˆ›å»º `.env` æ–‡ä»¶ï¼š
```bash
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
```

### æ­¥éª¤ 3: å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆ1 åˆ†é’Ÿï¼‰
```bash
npm run dev
```

æµè§ˆå™¨æ‰“å¼€: `http://localhost:5173`

### æ­¥éª¤ 4: åˆ›å»ºæµ‹è¯•è´¦å·ï¼ˆ1 åˆ†é’Ÿï¼‰
1. ç‚¹å‡»"æ³¨å†Œ"
2. è¾“å…¥é‚®ç®±å’Œå¯†ç ï¼ˆæ— éœ€çœŸå®é‚®ç®±ï¼‰
3. ç™»å½•æˆåŠŸåå³å¯ä½¿ç”¨

---

## ğŸ¯ å¿«é€ŸéªŒè¯åŠŸèƒ½

### 1. åœºæ™¯ç®¡ç†ï¼ˆ30 ç§’ï¼‰
- è®¿é—® `/scenarios`
- ç‚¹å‡»"åˆ›å»ºåœºæ™¯"
- å¡«å†™åç§°å’Œæè¿°
- ä¿å­˜ âœ…

### 2. SOP æ–‡æ¡£ç¼–è¾‘ï¼ˆ1 åˆ†é’Ÿï¼‰
- æ‰“å¼€ä»»ä¸€åœºæ™¯
- åˆ‡æ¢åˆ°"SOP æ–‡æ¡£"æ ‡ç­¾
- è¾“å…¥ Markdown æ–‡æœ¬
- ç‚¹å‡»"ä¿å­˜" âœ…

### 3. æµç¨‹å›¾ç¼–è¾‘ï¼ˆâš ï¸ å½“å‰æœ‰é—®é¢˜ï¼‰
- æ‰“å¼€ä»»ä¸€åœºæ™¯
- åˆ‡æ¢åˆ°"æµç¨‹å›¾"æ ‡ç­¾
- **é¢„æœŸ**: çœ‹åˆ°ç”»å¸ƒå’Œå·¥å…·æ 
- **å®é™…**: ç™½å±ï¼ˆè¿™æ˜¯å½“å‰éœ€è¦è§£å†³çš„ä¸»è¦é—®é¢˜ï¼‰

---

## ğŸ› é¦–è¦ä»»åŠ¡ï¼šä¿®å¤ X6 ç¼–è¾‘å™¨

### é—®é¢˜ç°è±¡
æ‰“å¼€"æµç¨‹å›¾"æ ‡ç­¾åï¼Œæ˜¾ç¤º"åˆå§‹åŒ–ç”»å¸ƒä¸­..."ç„¶åç™½å±

### è°ƒè¯•æ­¥éª¤

#### 1ï¸âƒ£ æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼ˆ30 ç§’ï¼‰
```bash
# æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰
# æŸ¥çœ‹æ˜¯å¦æœ‰ä»¥ä¸‹è­¦å‘Šï¼š
# "X6Editor container has no size"
```

#### 2ï¸âƒ£ æ£€æŸ¥å®¹å™¨å°ºå¯¸ï¼ˆ1 åˆ†é’Ÿï¼‰
```javascript
// åœ¨æ§åˆ¶å°æ‰§è¡Œï¼š
document.querySelector('.x6-graph-container')?.getBoundingClientRect()

// é¢„æœŸï¼šwidth å’Œ height éƒ½åº”è¯¥ > 0
// å®é™…ï¼šå¦‚æœæ˜¯ 0ï¼Œè¯´æ˜å®¹å™¨æ²¡æœ‰è·å–åˆ°å°ºå¯¸
```

#### 3ï¸âƒ£ å°è¯•ä¿®å¤æ–¹æ¡ˆ A - å›ºå®šé«˜åº¦ï¼ˆ5 åˆ†é’Ÿï¼‰
ç¼–è¾‘ `src/pages/ScenarioDetailPage.tsx` ç¬¬ 350 è¡Œï¼š

```typescript
// ä¿®æ”¹å‰ï¼š
{activeTab === 'flowchart' && (
  <div className="h-full w-full">
    <X6Editor ... />
  </div>
)}

// ä¿®æ”¹åï¼š
{activeTab === 'flowchart' && (
  <div style={{ width: '100%', height: 'calc(100vh - 200px)' }}>
    <X6Editor ... />
  </div>
)}
```

ä¿å­˜ååˆ·æ–°é¡µé¢ï¼ŒæŸ¥çœ‹æ˜¯å¦æ˜¾ç¤ºç”»å¸ƒã€‚

#### 4ï¸âƒ£ å°è¯•ä¿®å¤æ–¹æ¡ˆ B - æ£€æŸ¥å¸ƒå±€é“¾ï¼ˆ10 åˆ†é’Ÿï¼‰
ä½¿ç”¨ Chrome DevTools æ£€æŸ¥å…ƒç´ å±‚çº§ï¼š

```
Layout (åº”è¯¥æœ‰ height: 100vh)
â””â”€â”€ main (åº”è¯¥æœ‰ flex: 1)
    â””â”€â”€ ScenarioDetailPage (åº”è¯¥æœ‰ height: 100%)
        â””â”€â”€ æ ‡ç­¾å†…å®¹åŒºåŸŸ (åº”è¯¥æœ‰ height: 100%)
            â””â”€â”€ X6Editor (åº”è¯¥æœ‰ height: 100%)
                â””â”€â”€ .x6-graph-container (åº”è¯¥æœ‰ height > 0)
```

æ‰¾åˆ°ç¬¬ä¸€ä¸ª `height: 0` çš„å…ƒç´ ï¼Œæ·»åŠ æ˜ç¡®çš„é«˜åº¦ã€‚

#### 5ï¸âƒ£ å°è¯•ä¿®å¤æ–¹æ¡ˆ C - å¼ºåˆ¶è®¾ç½®å°ºå¯¸ï¼ˆ5 åˆ†é’Ÿï¼‰
ç¼–è¾‘ `src/components/X6Editor/index.tsx` ç¬¬ 68-84 è¡Œï¼š

```typescript
// åœ¨ tryInitialize å‡½æ•°å¼€å§‹å¤„æ·»åŠ ï¼š
const tryInitialize = () => {
  const container = containerRef.current
  if (!container) return

  // ğŸ”§ å¼ºåˆ¶è®¾ç½®å®¹å™¨å°ºå¯¸
  container.style.width = '100%'
  container.style.height = '600px'  // æˆ– window.innerHeight - 200 + 'px'

  attempts++
  // ... åç»­ä»£ç 
}
```

---

## ğŸ“‹ å¼€å‘ä»»åŠ¡ä¼˜å…ˆçº§

### P0 - å¿…é¡»ç«‹å³å®Œæˆï¼ˆ1-2 å¤©ï¼‰
- [ ] ä¿®å¤ X6 ç¼–è¾‘å™¨ç™½å±é—®é¢˜
- [ ] éªŒè¯ç¼–è¾‘å™¨åŸºæœ¬åŠŸèƒ½ï¼ˆæ·»åŠ èŠ‚ç‚¹ã€è¿çº¿ã€ä¿å­˜ï¼‰

### P1 - é«˜ä¼˜å…ˆçº§ï¼ˆ3-5 å¤©ï¼‰
- [ ] å®ç°åœºæ™¯å·¥ä½œæµå…³è”åŠŸèƒ½
- [ ] å®Œå–„å·¥ä½œæµç¼–è¾‘é¡µé¢ï¼ˆå¤ç”¨ X6Editorï¼‰
- [ ] æ·»åŠ æ•°æ®éªŒè¯å’Œé”™è¯¯æç¤º

### P2 - ä¸­ä¼˜å…ˆçº§ï¼ˆ1-2 å‘¨ï¼‰
- [ ] å®ç°å·¥ä½œæµæ‰§è¡Œå¼•æ“ï¼ˆSupabase Edge Functionï¼‰
- [ ] æ·»åŠ æ‰§è¡Œæ—¥å¿—å®æ—¶åˆ·æ–°
- [ ] å®ç°åŸºæœ¬çš„èŠ‚ç‚¹ç±»å‹ï¼ˆä»»åŠ¡ã€å†³ç­–ã€å»¶è¿Ÿï¼‰

### P3 - ä½ä¼˜å…ˆçº§ï¼ˆåç»­è¿­ä»£ï¼‰
- [ ] æ€§èƒ½ä¼˜åŒ–ï¼ˆå¤§å‹æµç¨‹å›¾ï¼‰
- [ ] æ·»åŠ å·¥ä½œæµæ¨¡æ¿
- [ ] å®ç°å®šæ—¶è§¦å‘å™¨
- [ ] ç‰ˆæœ¬ç®¡ç†

---

## ğŸ”‘ å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
npm run dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨åˆ·æ–°ï¼‰
npm run build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview          # é¢„è§ˆç”Ÿäº§æ„å»º

# è°ƒè¯•
npm run build            # æ£€æŸ¥ TypeScript ç±»å‹é”™è¯¯
console.log()            # åœ¨ä»£ç ä¸­æ·»åŠ æ—¥å¿—ï¼ˆF12 æŸ¥çœ‹ï¼‰

# æ•°æ®åº“ï¼ˆåœ¨ Supabase Dashboardï¼‰
# SQL Editor â†’ New Query â†’ æ‰§è¡Œ SQL
```

---

## ğŸ“‚ å…³é”®æ–‡ä»¶é€ŸæŸ¥

### éœ€è¦ç»å¸¸ä¿®æ”¹çš„æ–‡ä»¶
```
src/pages/ScenarioDetailPage.tsx     â† åœºæ™¯è¯¦æƒ…ï¼ˆä¸»æˆ˜åœºï¼‰
src/components/X6Editor/index.tsx    â† X6 ç¼–è¾‘å™¨ï¼ˆæ ¸å¿ƒç»„ä»¶ï¼‰
src/components/X6Editor/styles.css   â† ç¼–è¾‘å™¨æ ·å¼ï¼ˆå¸ƒå±€é—®é¢˜ï¼‰
src/pages/WorkflowEditorPage.tsx     â† å·¥ä½œæµç¼–è¾‘ï¼ˆå¾…å®Œå–„ï¼‰
```

### æ•°æ®åº“ç›¸å…³
```
supabase/migrations/                 â† è¿ç§»æ–‡ä»¶ï¼ˆå·²å…¨éƒ¨åº”ç”¨ï¼‰
src/lib/supabase.ts                  â† Supabase å®¢æˆ·ç«¯
src/lib/database.types.ts            â† æ•°æ®åº“ç±»å‹å®šä¹‰
```

### é…ç½®æ–‡ä»¶
```
.env                                 â† ç¯å¢ƒå˜é‡ï¼ˆéœ€è¦è‡ªå·±åˆ›å»ºï¼‰
vite.config.ts                       â† Vite é…ç½®
tailwind.config.js                   â† Tailwind CSS é…ç½®
tsconfig.json                        â† TypeScript é…ç½®
```

---

## ğŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿ

### ç¼–è¯‘é”™è¯¯
```bash
# æ¸…é™¤ç¼“å­˜é‡è¯•
rm -rf node_modules package-lock.json
npm install
npm run dev
```

### é¡µé¢ç™½å±
1. æ‰“å¼€æ§åˆ¶å°ï¼ˆF12ï¼‰æŸ¥çœ‹é”™è¯¯
2. æ£€æŸ¥ç½‘ç»œè¯·æ±‚ï¼ˆNetwork æ ‡ç­¾ï¼‰
3. éªŒè¯ `.env` æ–‡ä»¶æ˜¯å¦æ­£ç¡®

### æ•°æ®åº“è¿æ¥å¤±è´¥
1. æ£€æŸ¥ `.env` ä¸­çš„ `VITE_SUPABASE_URL` å’Œ `VITE_SUPABASE_ANON_KEY`
2. ç¡®è®¤ Supabase é¡¹ç›®æœªæš‚åœï¼ˆè®¿é—® Dashboardï¼‰
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

### ç™»å½•å¤±è´¥
1. ç¡®è®¤æ˜¯å¦å·²æ³¨å†Œè´¦å·
2. æ£€æŸ¥å¯†ç æ˜¯å¦æ­£ç¡®ï¼ˆæœ€å°‘ 6 ä½ï¼‰
3. æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹ Supabase Auth é”™è¯¯

---

## ğŸ’¡ å¼€å‘æŠ€å·§

### 1. ä½¿ç”¨ React DevTools
```bash
# å®‰è£… Chrome æ‰©å±•
# React Developer Tools
# å¯ä»¥æŸ¥çœ‹ç»„ä»¶æ ‘ã€çŠ¶æ€ã€Props
```

### 2. å¿«é€Ÿå®šä½ç»„ä»¶
```bash
# åœ¨æµè§ˆå™¨ä¸­å³é”® â†’ æ£€æŸ¥å…ƒç´ 
# åœ¨ Elements é¢æ¿æ‰¾åˆ°å…ƒç´ 
# å³ä¾§ä¼šæ˜¾ç¤º React ç»„ä»¶åç§°
```

### 3. è°ƒè¯• Supabase æŸ¥è¯¢
```javascript
// åœ¨ä»£ç ä¸­æ·»åŠ ï¼š
const { data, error } = await supabase.from('scenarios').select('*')
console.log('Supabase result:', { data, error })
```

### 4. çƒ­é‡è½½å¤±æ•ˆï¼Ÿ
```bash
# é‡å¯å¼€å‘æœåŠ¡å™¨
Ctrl+C
npm run dev
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

### æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£
- `HANDOVER.md` - å®Œæ•´çš„äº¤æ¥æ–‡æ¡£
- `README.md` - é¡¹ç›®è¯´æ˜ï¼ˆå¦‚æœæœ‰ï¼‰

### åœ¨çº¿èµ„æº
- [Supabase æ–‡æ¡£](https://supabase.com/docs)
- [AntV X6 ç¤ºä¾‹](https://x6.antv.antgroup.com/examples)
- [React Router æŒ‡å—](https://reactrouter.com/docs)
- [Tailwind CSS é€ŸæŸ¥](https://tailwindcss.com/docs)

### è°ƒè¯•æŠ€å·§
- å–„ç”¨ `console.log()` æ‰“å°å˜é‡
- ä½¿ç”¨ Chrome DevTools çš„ Debuggerï¼ˆè®¾ç½®æ–­ç‚¹ï¼‰
- æŸ¥çœ‹ç½‘ç»œè¯·æ±‚ï¼ˆNetwork æ ‡ç­¾ï¼‰
- ä½¿ç”¨ React DevTools æŸ¥çœ‹ç»„ä»¶çŠ¶æ€

---

**é¢„è®¡ä¸Šæ‰‹æ—¶é—´**: 30 åˆ†é’Ÿ
**é¢„è®¡ä¿®å¤ä¸»è¦é—®é¢˜æ—¶é—´**: 1-2 å¤©

ç¥å¼€å‘é¡ºåˆ©ï¼ğŸš€
